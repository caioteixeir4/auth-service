# --- CONFIGURAÇÃO DA APLICAÇÃO ---
spring.application.name=auth-service
server.port=8080

# --- CONEXÃO COM O BANCO (DOCKER OU LOCAL) ---
# Se você rodar pelo VS Code, use 'localhost'. 
# Se rodar pelo Docker, o SPRING_DATASOURCE_URL do docker-compose vai sobrescrever isso.
spring.datasource.url=jdbc:oracle:thin:@localhost:1521/FREE?oracle.net.disableOob=true
spring.datasource.username=system
spring.datasource.password=sua_senha_forte
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# --- JPA / HIBERNATE ---
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
# 'validate' garante que o Java só ligue se o banco estiver com as tabelas certas
spring.jpa.hibernate.ddl-auto=validate

# --- FLYWAY (MIGRAÇÕES) ---
spring.flyway.enabled=true
# Cria a tabela de histórico se ela não existir
spring.flyway.baseline-on-migrate=true

# --- HIKARI (POOL DE CONEXÃO) ---
# Dá tempo para o Oracle "acordar" antes do Java desistir
# spring.datasource.hikari.connection-timeout=30000
# spring.datasource.hikari.initialization-fail-timeout=60000